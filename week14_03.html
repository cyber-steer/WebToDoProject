<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./jquery-3.6.0.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/js/bootstrap.bundle.min.js"></script>
</head>
    <style>
        h2{
            margin: 0;
        }
        .box{
            border: 1px solid gray;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
        }
        span{
            /* border: 1px solid blue;
            border-radius: 3px; */
            padding: 3px;
            margin: 3px;
            /* background-color: lightblue;  */
        }
    </style>
    <script>
        //=============================================================================
        function gid(id) {return document.getElementById(id);}
        //=============================================================================
        // click한 span 객체를 listDone DIV으로 보낸다.
        function spanClickHandler(){
            let parentID = this.parentNode.getAttribute('id'); //Node.Id
            if(parentID == 'listDone')
                gid("listToDo").appendChild(this);
            else
                gid("listDone").appendChild(this);
                
        };
        //=============================================================================
        function keydownHandler(){
            console.log(event.keyCode);
            if(event.keyCode == 13){
                //입력된 내용을 listToDo의 새 항목으로 등록한다
                //새 span 객체를 생성한다.
                let newItem = document.createElement("span");
                let btn = document.createElement("button");
                btn.innerHTML = "X";
                $(btn).addClass("btn btn-secondary");
                
                //생성된 객체의 내용을 입력된 내용으로 저장
                newItem.innerHTML = this.value;
                newItem.appendChild(btn);
                //생성된 객체에 적용할 class를 등록한다
                $(newItem).addClass("badge");
                $(newItem).addClass("bg-success");
                //생성된 객체에 click event handler를 등록한다
                $(newItem).click(spanClickHandler);
                //listToDo의 자식노드로 연결한다.
                gid("listToDo").appendChild(newItem);
                //입력 영역 clear
                this.value ="";
            }
        }
        //=============================================================================
        $(document).ready(function(){
            $("span").click(spanClickHandler);
            $("#newItem").keydown(keydownHandler);
        });
        //=============================================================================
    </script>
</head>
<body>
    <h1>TODo List Project</h1>
    <hr>
    New: <input type="text" id="newItem" size="50">
    <hr>
    <h2>ToDo</h2>
    <div class="box" id="listToDo">
        <span class="badge bg-primary">Korea <button class="btn btn-infom">X</button></span>
        <span class="badge bg-danger">Japan</span>
        <span class="badge bg-warning">China</span>
    </div>
    <h2>Done</h2>
    <div class="box" id="listDone"></div>
</body>
</html>